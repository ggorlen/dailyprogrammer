# 359e: https://www.reddit.com/r/dailyprogrammer/comments/8g0iil/20180430_challenge_359_easy_regular_paperfold/

def paperfold n
  w = "1"
  len = 1

  n.times do
    b = w.to_i(2)
    b ^= (1 << b.bit_length) - 1
    w += "1" + ("%0*b" % [len, b]).reverse
    len = len * 2 + 1
  end

  w
end

exp = "1101100111001001110110001100100111011001110010001101100011001001110110011100100111011000110010001101100111001000110110001100100111011001110010011101100011001001110110011100100011011000110010001101100111001001110110001100100011011001110010001101100011001001110110011100100111011000110010011101100111001000110110001100100111011001110010011101100011001000110110011100100011011000110010001101100111001001110110001100100111011001110010001101100011001000110110011100100111011000110010001101100111001000110110001100100"

p paperfold(8) == exp
